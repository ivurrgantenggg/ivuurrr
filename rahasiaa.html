<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Puzzle Kata Cinta ğŸ’–</title>
<link rel="stylesheet" href="rahasia.css">
</head>
<body>

<div class="container">
    <h1 class="title">Puzzle Kata Cinta ğŸ’</h1>

    <p class="instruction">Susun kata-kata ini supaya jadi kalimat manis untuk aku ğŸ˜˜</p>

    <div id="puzzleArea" class="puzzle-area"></div>

    <button id="checkBtn" class="btn">Cek Jawaban âœ…</button>
    <button id="shuffleBtn" class="btn">Acak Ulang ğŸ”„</button>

    <p id="result" class="result"></p>

    <a href="index.html" class="back-btn">â† Kembali</a>
</div>

<script>
// List banyak kalimat romantis (emoji di akhir)
const sentences = [
    "Aku selalu ingin dekat dengan kamu ğŸ˜˜",
    "Kamu bikin hari-hariku lebih indah ğŸ’–",
    "Setiap detik bersamamu berharga ğŸ¥°",
    "Aku nggak bisa berhenti mikirin kamu ğŸ’•",
    "Senymu bikin hatiku meleleh ğŸ¥¹",
    "Pelukanmu membuat aku tenang ğŸ˜Œ",
    "Aku ingin selalu jaga kamu ğŸ’",
    "Kamu itu hadiah terindah dalam hidupku ğŸ",
    "Aku mau kita selalu bareng selamanya ğŸŒ¸",
    "Kamu bikin aku tertawa setiap hari ğŸ˜‚",
    "Aku sayang kamu lebih dari kata-kata â¤ï¸",
    "Bersamamu aku merasa lengkap ğŸ¥°",
    "Aku kangen kamu tiap waktu â°",
    "Momen bersamamu selalu spesial âœ¨",
    "Aku ingin memelukmu terus ğŸ¤—",
    "Kamu selalu di hatiku ğŸ’–",
    "Aku janji selalu ada buat kamu ğŸ’•",
    "Cintaku padamu nggak akan pernah hilang ğŸ¥°",
    "Setiap senyummu bikin aku bahagia ğŸ˜„",
    "Kamu cahaya dalam hidupku ğŸŒŸ"
];

// Ambil kalimat random
let currentSentence = sentences[Math.floor(Math.random() * sentences.length)];
let words = currentSentence.split(" ");
let shuffledWords = [...words].sort(() => Math.random() - 0.5);

const puzzleArea = document.getElementById("puzzleArea");
const result = document.getElementById("result");
const checkBtn = document.getElementById("checkBtn");
const shuffleBtn = document.getElementById("shuffleBtn");

function renderPuzzle() {
    puzzleArea.innerHTML = "";
    shuffledWords.forEach((word, index) => {
        const span = document.createElement("span");
        span.classList.add("word");
        span.innerText = word;
        span.draggable = true;

        span.addEventListener("dragstart", dragStart);
        span.addEventListener("dragover", dragOver);
        span.addEventListener("drop", drop);

        puzzleArea.appendChild(span);
    });
    result.innerText = "";
}

// Drag & Drop
let dragSrcIndex = null;

function dragStart(e) {
    dragSrcIndex = [...puzzleArea.children].indexOf(e.target);
}

function dragOver(e) {
    e.preventDefault();
}

function drop(e) {
    const dropIndex = [...puzzleArea.children].indexOf(e.target);
    [shuffledWords[dragSrcIndex], shuffledWords[dropIndex]] = [shuffledWords[dropIndex], shuffledWords[dragSrcIndex]];
    renderPuzzle();
}

// Cek jawaban
checkBtn.addEventListener("click", () => {
    if(shuffledWords.join(" ") === words.join(" ")) {
        result.innerText = "ğŸ’– Tepat! Kamu bikin aku baper ğŸ˜˜";
        result.style.color = "#ff2d75";
        // Ambil kalimat baru setelah berhasil
        currentSentence = sentences[Math.floor(Math.random() * sentences.length)];
        words = currentSentence.split(" ");
        shuffledWords = [...words].sort(() => Math.random() - 0.5);
        setTimeout(renderPuzzle, 1500); // otomatis ganti puzzle baru
    } else {
        result.innerText = "Ups ğŸ˜…, coba lagi!";
        result.style.color = "#ff5fa8";
    }
});

// Acak ulang
shuffleBtn.addEventListener("click", () => {
    shuffledWords.sort(() => Math.random() - 0.5);
    renderPuzzle();
});

renderPuzzle();
</script>

</body>
</html>
