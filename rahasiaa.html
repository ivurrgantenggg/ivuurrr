<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Puzzle Kata Cinta ğŸ’–</title>
<link rel="stylesheet" href="css/rahasia.css">
</head>
<body>

<div class="container">
    <h1 class="title">Puzzle Kata Cinta ğŸ’</h1>

    <p class="instruction">Susun kata-kata iniğŸ˜˜</p>

    <div id="puzzleArea" class="puzzle-area"></div>

    <button id="checkBtn" class="btn">Cek Jawaban âœ…</button>
    <button id="shuffleBtn" class="btn">Acak Ulang ğŸ”„</button>

    <p id="result" class="result"></p>

    <a href="index.html" class="back-btn">â† Kembali</a>
</div>

<script>
// List banyak kalimat romantis (emoji di akhir)
const sentences = [
    "Maaf ya kalo aku selalu overtingking ğŸ˜˜",
    "Terimakasih yaa Kamu bikin hari-hariku lebih indah ğŸ’–",
    "Setiap detik bersamamu berharga ğŸ¥°",
    "maaf kalo aku terlalu berlebihan ğŸ’•",
    "kamu jangan capek ya sama aaku ğŸ¥¹",
    "Aku berharap kita tidak pernaah berubah ğŸ˜Œ",
    "Aku ingin selalu jaga kamu ğŸ’",
    "terimakasih karena jadi hadiah terindah dalam hidupku ğŸ",
    "Aku mau kita selalu bareng selamanya ğŸŒ¸",
    "Kamu bikin aku ngga berhenti mikirin kamu ğŸ˜‚",
    "Aku sayang kamu lebih dari kata-kata â¤ï¸",
    "Bersamamu aku merasa lengkap ğŸ¥°",
    "Aku kangen kamu tiap waktu â°",
    "Momen bersamamu selalu spesial âœ¨",
    "Aku harap kamu bahagia sama aku ğŸ¤—",
    "Kalo kamu marah jangan diamin aku ya, aku takut ğŸ’–",
    "kalo ada yang kamu ga suka dari aku ngomong yaaa ğŸ’•",
    "jujur aku sayang kamu ğŸ¥°",
    "Setiap senyummu bikin aku bahagia ğŸ˜„",
    "Maaf kalo aku selalu takut kamu ninggalin aku ğŸŒŸ"
];

// Ambil kalimat random
let currentSentence = sentences[Math.floor(Math.random() * sentences.length)];
let words = currentSentence.split(" ");
let shuffledWords = [...words].sort(() => Math.random() - 0.5);

const puzzleArea = document.getElementById("puzzleArea");
const result = document.getElementById("result");
const checkBtn = document.getElementById("checkBtn");
const shuffleBtn = document.getElementById("shuffleBtn");

function renderPuzzle() {
    puzzleArea.innerHTML = "";
    shuffledWords.forEach((word, index) => {
        const span = document.createElement("span");
        span.classList.add("word");
        span.innerText = word;
        span.draggable = true;

        span.addEventListener("dragstart", dragStart);
        span.addEventListener("dragover", dragOver);
        span.addEventListener("drop", drop);

        puzzleArea.appendChild(span);
    });
    result.innerText = "";
    // Hapus pesan akhir lama kalau ada
    const oldPesan = document.querySelector(".akhirPesan");
    if(oldPesan) oldPesan.remove();
}

// Drag & Drop
let dragSrcIndex = null;

function dragStart(e) {
    dragSrcIndex = [...puzzleArea.children].indexOf(e.target);
}

function dragOver(e) {
    e.preventDefault();
}

function drop(e) {
    const dropIndex = [...puzzleArea.children].indexOf(e.target);
    [shuffledWords[dragSrcIndex], shuffledWords[dropIndex]] = [shuffledWords[dropIndex], shuffledWords[dragSrcIndex]];
    renderPuzzle();
}

// Cek jawaban
checkBtn.addEventListener("click", () => {
    if(shuffledWords.join(" ") === words.join(" ")) {
        result.innerText = "ğŸ’– Tepat! Kamuuuu hebaaaaaat ğŸ˜˜";
        result.style.color = "#ff2d75";

        // Ambil kalimat baru untuk puzzle
        currentSentence = sentences[Math.floor(Math.random() * sentences.length)];
        words = currentSentence.split(" ");
        shuffledWords = [...words].sort(() => Math.random() - 0.5);
        setTimeout(renderPuzzle, 3500); // otomatis ganti puzzle baru
    } else {
        result.innerText = "Ups kamu salahğŸ˜…, coba lagi sayang!";
        result.style.color = "#ff5fa8";
    }
});

// Acak ulang
shuffleBtn.addEventListener("click", () => {
    shuffledWords.sort(() => Math.random() - 0.5);
    renderPuzzle();
});

renderPuzzle();
</script>

</body>
</html>
